{"version":3,"sources":["services/userAPI.js","components/Loading.js","pages/Login.js","components/Header.js","components/Form.js","services/searchAlbumsAPI.js","pages/Search.js","components/MusicCard.js","services/musicsAPI.js","services/favoriteSongsAPI.js","pages/Album.js","pages/Favorites.js","pages/Profile.js","pages/ProfileEdit.js","App.js","index.js"],"names":["USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","response","callback","setTimeout","getUser","Promise","resolve","parse","getItem","createUser","name","email","image","description","Loading","React","Component","Login","handleChange","target","setState","value","disabledbutton","length","handleClick","a","state","loading","redirect","checkInput","formLogin","to","this","htmlFor","onChange","type","disabled","onClick","Header","userName","Form","props","className","placeholder","tidInput","tidBtn","id","txtBtn","searchAlbumsAPI","artist","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","Search","handleSearch","input","FilterAlbum","event","preventDefault","isLoading","albumName","search","activateButton","AlbumArtist","text","album","src","alt","Empty","MusicCard","preview","checked","thumb","controls","kind","getMusics","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","getFavoriteSongs","addSong","song","removeSong","filter","s","trackId","Album","favorites","musicSearch","match","params","musics","forEach","music","saveSong","filterTrack","find","trackName","filterIndex","findIndex","prevState","tracks","MountMusics","collection","slice","previewUrl","some","check","Favorites","removeFavorite","track","Number","atMusics","Profile","componentDidMount","getUserAPI","ProfileEdit","App","exact","path","component","render","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8cb4d771.chunk.js","sourcesContent":["const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React from 'react';\n\nclass Loading extends React.Component {\n  render() {\n    return (<p>Carregando...</p>);\n  }\n}\n\nexport default Loading;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { createUser } from '../services/userAPI';\nimport Loading from '../components/Loading';\n\nconst MIN_LENGTH = 3;\n\nclass Login extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      user: '',\n      disabledbutton: true,\n      loading: false,\n      redirect: false,\n    };\n  }\n\n  handleChange = ({ target }) => {\n    this.setState({\n      user: target.value,\n      disabledbutton: MIN_LENGTH > target.value.length,\n    });\n  };\n\n  handleClick = async () => {\n    const { user } = this.state;\n    this.setState({ loading: true });\n    await createUser({ name: user });\n    this.setState({ redirect: true });\n  };\n\n  checkInput = (formLogin, loading, redirect) => {\n    if (loading) {\n      if (redirect) {\n        return <Redirect to=\"/search\" />;\n      }\n      return (<Loading />);\n    }\n    return (formLogin);\n  };\n\n  render() {\n    const { disabledbutton, user, redirect, loading } = this.state;\n    const formLogin = (\n      <div data-testid=\"page-login\">\n        <label htmlFor=\"name-input\">\n          Nome:\n          <input\n            value={ user }\n            name=\"user\"\n            onChange={ this.handleChange }\n            type=\"text\"\n            data-testid=\"login-name-input\"\n          />\n        </label>\n        <button\n          type=\"submit\"\n          data-testid=\"login-submit-button\"\n          disabled={ disabledbutton }\n          onClick={ this.handleClick }\n        >\n          Entrar\n        </button>\n      </div>\n    );\n    return (\n      this.checkInput(formLogin, loading, redirect)\n    );\n  }\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getUser } from '../services/userAPI';\nimport Loading from './Loading';\n\nclass Header extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      userName: '',\n    };\n  }\n\n  componentDidMount() {\n    this.userName();\n  }\n\n  userName = async () => {\n    const user = await getUser();\n    this.setState({ userName: user.name });\n  }\n\n  render() {\n    const { userName } = this.state;\n    return (\n      !userName ? <Loading /> : (\n        <header data-testid=\"header-component\">\n          <h2 data-testid=\"header-user-name\">{userName}</h2>\n          <nav>\n            <Link to=\"/search\" data-testid=\"link-to-search\">Pesquisar</Link>\n            <Link to=\"/favorites\" data-testid=\"link-to-favorites\">Favoritos</Link>\n            <Link to=\"/profile\" data-testid=\"link-to-profile\">Perfil</Link>\n          </nav>\n        </header>\n      )\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass Form extends Component {\n  render() {\n    const {\n      className,\n      placeholder,\n      tidInput,\n      tidBtn,\n      id,\n      value,\n      onChange,\n      onClick,\n      txtBtn,\n      disabled,\n    } = this.props;\n\n    return (\n      <form className={ className }>\n        <label htmlFor={ id }>\n          <input\n            data-testid={ tidInput }\n            type=\"text\"\n            placeholder={ placeholder }\n            id={ id }\n            value={ value }\n            onChange={ onChange }\n          />\n        </label>\n        <button\n          data-testid={ tidBtn }\n          type=\"submit\"\n          disabled={ !disabled }\n          onClick={ onClick }\n        >\n          {txtBtn}\n        </button>\n      </form>\n    );\n  }\n}\n\nForm.propTypes = {\n  className: PropTypes.string,\n  placeholder: PropTypes.string,\n  testInput: PropTypes.string,\n  testBtn: PropTypes.string,\n  id: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n  onClick: PropTypes.func,\n  txtBtn: PropTypes.func,\n  disabled: PropTypes.bool,\n}.isRequired;\n\nexport default Form;\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport Form from '../components/Form';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\n\nconst MIN_LENGTH_SEARCH = 2;\n\nclass Search extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isLoading: false,\n      input: '',\n      search: '',\n      albumName: '',\n    };\n  }\n\n  handleSearch= ({ target }) => {\n    const { value } = target;\n    this.setState({ input: value });\n  }\n\n  FilterAlbum = async (event) => {\n    event.preventDefault();\n    const { input } = this.state;\n    this.setState({ input: '', isLoading: true });\n    const albumName = await searchAlbumsAPI(input);\n    this.setState({ albumName, isLoading: false, search: input });\n  }\n\n  Form = () => {\n    const { input } = this.state;\n    const activateButton = input.length >= MIN_LENGTH_SEARCH;\n\n    return (\n      <Form\n        tidInput=\"search-artist-input\"\n        tidBtn=\"search-artist-button\"\n        id=\"input-search\"\n        value={ input }\n        onChange={ this.handleSearch }\n        txtBtn=\"Pesquisar\"\n        disabled={ activateButton }\n        onClick={ this.FilterAlbum }\n        className=\"form\"\n        placeholder=\"Nome do Artista\"\n      />\n    );\n  }\n\n  AlbumArtist = () => {\n    const { albumName, search } = this.state;\n    const text = `Resultado de álbuns de: ${search}`;\n    return (\n      <section className=\"album\">\n        <p>{ text }</p>\n        {albumName.map((album) => (\n          <Link\n            data-testid={ `link-to-album-${album.collectionId}` }\n            to={ `album/${album.collectionId}` }\n            key={ album.collectionId }\n          >\n            <section className=\"box-album\">\n              <img src={ album.artworkUrl100 } alt=\"Imagem do álbum\" />\n              <h1>{album.collectionName}</h1>\n              <h2>{album.artistName}</h2>\n            </section>\n          </Link>\n        ))}\n      </section>\n    );\n  }\n\n  render() {\n    const { albumName, search, isLoading } = this.state;\n    const Empty = search.length > 0 && albumName.length === 0;\n    return (\n      <div data-testid=\"page-search\">\n        <Header />\n\n        {isLoading ? <Loading /> : this.Form()}\n\n        {albumName.length > 0 && this.AlbumArtist()}\n\n        {Empty && <span>Nenhum álbum foi encontrado</span>}\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class MusicCard extends Component {\n  render() {\n    const { name, preview, id, checked, onChange, thumb } = this.props;\n    return (\n      <div className=\"musicCard\">\n        {thumb && <img src={ thumb } alt=\"Album da música\" />}\n        <h1>{name}</h1>\n        <audio data-testid=\"audio-component\" src={ preview } controls>\n          <track kind=\"captions\" />\n          O seu navegador não suporta o elemento\n          <code>audio</code>\n        </audio>\n\n        <label htmlFor={ id }>\n          Favorita\n          <input\n            type=\"checkbox\"\n            data-testid={ `checkbox-music-${id}` }\n            id={ id }\n            name={ name }\n            checked={ checked }\n            onChange={ onChange }\n          />\n        </label>\n      </div>\n    );\n  }\n}\n\nMusicCard.propTypes = {\n  name: PropTypes.string,\n  preview: PropTypes.string,\n  id: PropTypes.string,\n  saveTrack: PropTypes.func,\n}.isRequired;\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport MusicCard from '../components/MusicCard';\nimport getMusics from '../services/musicsAPI';\nimport { addSong, getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\n\nexport default class Album extends Component {\n  constructor() {\n    super();\n    this.state = {\n      musics: [],\n      isLoading: false,\n      favorites: [],\n    };\n  }\n\n  async componentDidMount() {\n    this.musicSearch();\n    this.favoriteSongs();\n  }\n\n  favoriteSongs = async () => {\n    this.setState({ isLoading: true });\n    const favorites = await getFavoriteSongs();\n    this.setState(() => ({ isLoading: false, favorites }));\n  }\n\n  musicSearch = async () => {\n    const {\n      match: {\n        params: { id },\n      },\n    } = this.props;\n    const musics = await getMusics(id);\n    musics.forEach((music) => {\n      music.checked = false;\n    });\n    this.setState({ musics });\n  };\n\n  saveSong = async ({ target: { name, checked } }) => {\n    this.setState({ isLoading: true });\n    const { musics, favorites } = this.state;\n    const filterTrack = musics.find(({ trackName }) => trackName === name);\n    const filterIndex = musics.findIndex((song) => song.trackName === name);\n    musics[filterIndex].checked = !musics[filterIndex].checked;\n\n    if (checked) {\n      await addSong(filterTrack);\n      this.setState((prevState) => (\n        { favorites: [...prevState.favorites, filterTrack] }));\n    } else {\n      await removeSong(filterTrack);\n      const tracks = favorites.filter((song) => song.trackId !== filterTrack.trackId);\n      this.setState({ favorites: tracks });\n    }\n    this.setState({ isLoading: false });\n  };\n\n  MountMusics = () => {\n    const { musics, isLoading, favorites } = this.state;\n    const name = musics[0].artistName;\n    const collection = musics[0].collectionName;\n    const { artworkUrl100 } = musics[0];\n\n    return (\n      isLoading\n        ? <Loading />\n        : (\n          <section>\n            <img src={ artworkUrl100 } alt=\"Capa do album\" />\n            <p data-testid=\"artist-name\">{name}</p>\n            <p data-testid=\"album-name\">{collection}</p>\n            {musics.slice(1).map((song) => {\n              const { trackName, trackId, previewUrl } = song;\n              return (\n                <MusicCard\n                  key={ trackId }\n                  name={ trackName }\n                  preview={ previewUrl }\n                  id={ trackId }\n                  checked={ favorites.some((check) => check.trackId === trackId) }\n                  onChange={ this.saveSong }\n                  favorites={ favorites }\n                />\n              );\n            })}\n          </section>\n        ));\n  };\n\n  render() {\n    const { musics } = this.state;\n    return (\n      <div data-testid=\"page-album\">\n        <Header />\n        {musics.length === 0 ? <Loading /> : this.MountMusics()}\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    isExact: PropTypes.bool,\n    params: PropTypes.objectOf(PropTypes.string),\n    path: PropTypes.string,\n    url: PropTypes.string,\n  }),\n}.isRequired;\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport MusicCard from '../components/MusicCard';\nimport { getFavoriteSongs, removeSong } from '../services/favoriteSongsAPI';\n\nexport default class Favorites extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isLoading: true,\n      musics: [],\n    };\n  }\n\n  componentDidMount() {\n    this.favoriteSongs();\n  }\n\n  favoriteSongs= async () => {\n    const musics = await getFavoriteSongs();\n    this.setState({ isLoading: false, musics });\n  }\n\n  removeFavorite = async ({ target: { id } }) => {\n    this.setState({ isLoading: true });\n    const { musics } = this.state;\n    const track = musics.find(({ trackId }) => trackId === Number(id));\n    await removeSong(track);\n    const atMusics = musics.filter((music) => music.trackId !== Number(id));\n    this.setState({ isLoading: false, musics: atMusics });\n  }\n\n  render() {\n    const { isLoading, musics } = this.state;\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n        { isLoading ? <Loading /> : (\n          musics.map((song) => {\n            const { trackName, trackId, previewUrl, checked, artworkUrl100 } = song;\n            return (\n              <MusicCard\n                key={ trackId }\n                name={ trackName }\n                previewUrl={ previewUrl }\n                id={ trackId }\n                checked={ checked }\n                onChange={ this.removeFavorite }\n                thumb={ artworkUrl100 }\n              />\n            );\n          })\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom/cjs/react-router-dom.min';\nimport Header from '../components/Header';\nimport Loading from '../components/Loading';\nimport { getUser } from '../services/userAPI';\n\nexport default class Profile extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      isLoading: true,\n      user: {},\n    };\n  }\n\n  componentDidMount= async () => {\n    this.getUserAPI();\n  }\n\n  componentWillUnmount() {\n    this.setState = () => {};\n  }\n\n  getUserAPI = async () => {\n    const user = await getUser();\n    this.setState({ isLoading: false, user });\n  }\n\n  render() {\n    const { isLoading, user: { name, email, image, description } } = this.state;\n    return (\n      <div data-testid=\"page-profile\">\n        <Header />\n        { isLoading ? <Loading /> : (\n          <section>\n            <div>\n              <img data-testid=\"profile-image\" src={ image } alt={ name } />\n            </div>\n            <Link to=\"/profile/edit\">Editar perfil</Link>\n            <h4>Nome</h4>\n            <p>{name}</p>\n            <h4>Email</h4>\n            <p>{email}</p>\n            <h4>Descrição</h4>\n            <p>{description}</p>\n          </section>\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport Header from '../components/Header';\n\nclass ProfileEdit extends React.Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        Profile edit\n        <Header />\n      </div>\n    );\n  }\n}\n\nexport default ProfileEdit;\n","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Search from './pages/Search';\nimport Album from './pages/Album';\nimport Favorites from './pages/Favorites';\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\n// import NotFound from './pages/NotFound';\n\nclass App extends React.Component {\n  render() {\n    return (\n      <>\n        <p>TrybeTunes</p>\n        <BrowserRouter>\n          <Switch>\n            <Route exact path=\"/\" component={ Login } />\n            <Route path=\"/search\" component={ Search } />\n            <Route path=\"/album/:id\" render={ (props) => <Album { ...props } /> } />\n            <Route path=\"/favorites\" component={ Favorites } />\n            <Route path=\"/profile/edit\" component={ ProfileEdit } />\n            <Route path=\"/profile\" component={ Profile } />\n          </Switch>\n        </BrowserRouter>\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}